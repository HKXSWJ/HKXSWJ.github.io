<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue-父子组件通讯 | 我的博客</title>
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/4.6.2/css/font-awesome.min.css" rel="stylesheet">
    <style>
        /* 基础样式 */
        body {
            margin: 0;
            font-family: "Microsoft YaHei", sans-serif;
            background-color: #f5f5f5;
            color: #333;
        }
        
        /* 头部样式 */
        .header {
            background: #fff;
            border-bottom: 1px solid #eee;
            padding: 20px 0;
        }
        
        .site-title {
            text-align: center;
            font-size: 24px;
            margin: 0;
        }
        
        /* 导航菜单 */
        .menu {
            list-style: none;
            padding: 0;
            text-align: center;
        }
        
        .menu-item {
            display: inline-block;
            margin: 0 15px;
        }
        
        .menu-item a {
            text-decoration: none;
            color: #555;
        }
        
        .menu-item a:hover {
            color: #222;
        }
        
        /* 文章内容 */
        .post-container {
            max-width: 800px;
            margin: 30px auto;
            padding: 30px;
            background: #fff;
            box-shadow: 0 0 10px rgba(0,0,0,0.05);
        }
        
        .post-title {
            font-size: 26px;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .post-meta {
            text-align: center;
            color: #999;
            font-size: 14px;
            margin-bottom: 30px;
        }
        
        .post-meta span {
            margin: 0 10px;
        }
        
        .post-content {
            line-height: 1.8;
            font-size: 16px;
        }
        
        .post-content p {
            margin-bottom: 20px;
        }
        
        .post-content h2 {
            font-size: 22px;
            margin: 30px 0 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .post-content code {
            background-color: #f7f7f7;
            padding: 2px 5px;
            border-radius: 3px;
            font-family: Consolas, Monaco, monospace;
        }
        
        .post-content pre {
            background-color: #f7f7f7;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }
        
        .post-content a {
            color: #4078c0;
            text-decoration: none;
        }
        
        .post-content a:hover {
            text-decoration: underline;
        }
        
        .post-tags {
            margin-top: 40px;
            text-align: center;
        }
        
        .post-tags a {
            display: inline-block;
            margin: 0 5px;
            padding: 3px 10px;
            background: #f1f1f1;
            color: #666;
            text-decoration: none;
            border-radius: 3px;
            font-size: 14px;
        }
        
        .post-tags a:hover {
            background: #e1e1e1;
        }
        
        /* 侧边栏 */
        .sidebar {
            position: fixed;
            right: 20px;
            top: 100px;
            width: 300px;
            background: #fff;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        
        .site-author {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .site-author img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
        }
        
        .site-author-name {
            margin: 10px 0 5px;
            font-weight: bold;
        }
        
        .site-description {
            color: #999;
            margin: 5px 0;
        }
        
        .site-state {
            display: flex;
            justify-content: space-around;
            text-align: center;
            padding: 15px 0;
            border-top: 1px solid #eee;
        }
        
        .site-state-item {
            display: flex;
            flex-direction: column;
        }
    </style>
</head>
<body>
    <header class="header">
        <h1 class="site-title">我的博客</h1>
        <nav>
            <ul class="menu">
                <li class="menu-item">
                    <a href="/"><i class="fa fa-home"></i> 首页</a>
                </li>
                <li class="menu-item">
                    <a href="/categories"><i class="fa fa-th"></i> 分类</a>
                </li>
                <li class="menu-item">
                    <a href="/archives"><i class="fa fa-archive"></i> 归档</a>
                </li>
                <li class="menu-item">
                    <a href="/about"><i class="fa fa-user"></i> 关于</a>
                </li>
            </ul>
        </nav>
    </header>

    <main>
        <article class="post-container">
            <h1 class="post-title">Vue-父子组件通讯</h1>
            
            <div class="post-meta">
                <span><i class="fa fa-calendar"></i> 2023-04-05</span>
                <span><i class="fa fa-folder-o"></i> 分类于 <a href="/categories/frame/vue/">vue</a></span>
                <span><i class="fa fa-comment-o"></i> 评论数 3</span>
            </div>
            
            <div class="post-content">
                <p>父子组件通讯主要分为两种情况：父组件向子组件传递数据和子组件向父组件传递数据。可以将它们简单地一个子组件，包含该父子组件的组件为父组件。</p>
                
                <h2>父组件向子组件传递数据</h2>
                <p>父组件可以通过 props 向子组件传递数据。子组件需要显式地用 props 选项声明它期待获得的数据：</p>
                
                <pre><code>// 子组件
export default {
  props: ['message'],
  template: '&lt;div&gt;{{ message }}&lt;/div&gt;'
}</code></pre>
                
                <p>然后我们可以这样向它传入一个普通字符串：</p>
                
                <pre><code>&lt;child message="hello!"&gt;&lt;/child&gt;</code></pre>
                
                <h2>子组件向父组件传递数据</h2>
                <p>子组件可以通过调用内建的 $emit 方法并传入事件名称来触发一个事件：</p>
                
                <pre><code>// 子组件
export default {
  methods: {
    sendMessage() {
      this.$emit('childMsg', '这是来自子组件的消息');
    }
  }
}</code></pre>
                
                <p>父组件可以在使用子组件的地方直接用 v-on 来监听子组件触发的事件：</p>
                
                <pre><code>&lt;child @childMsg="handleChildMsg"&gt;&lt;/child&gt;</code></pre>
                
                <p>父组件中的方法：</p>
                
                <pre><code>methods: {
  handleChildMsg(msg) {
    console.log(msg); // 这是来自子组件的消息
  }
}</code></pre>
                
                <h2>总结</h2>
                <p>Vue 中父子组件的通信方式主要有：</p>
                <ul>
                    <li>父组件通过 props 向子组件传递数据</li>
                    <li>子组件通过 events ($emit) 向父组件发送消息</li>
                    <li>使用 ref 获取子组件实例（不推荐频繁使用）</li>
                    <li>使用 provide/inject 实现深层组件通信（高级用法）</li>
                </ul>
                
                <p>更多详细信息可以参考 <a href="https://cn.vuejs.org/v2/guide/components.html" target="_blank">Vue 官方文档</a>。</p>
                
                <div class="post-tags">
                    <a href="/tags/Vue/"><i class="fa fa-tag"></i> Vue</a>
                    <a href="/tags/组件/"><i class="fa fa-tag"></i> 组件</a>
                    <a href="/tags/前端/"><i class="fa fa-tag"></i> 前端</a>
                </div>
            </div>
        </article>
    </main>

    <aside class="sidebar">
        <div class="site-author">
            <img src="/images/avatar.jpg" alt="作者头像">
            <p class="site-author-name">博主</p>
            <p class="site-description">记录学习与生活</p>
        </div>
        
        <div class="site-state">
            <div class="site-state-item">
                <span class="site-state-item-count">25</span>
                <span class="site-state-item-name">文章</span>
            </div>
            <div class="site-state-item">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">分类</span>
            </div>
            <div class="site-state-item">
                <span class="site-state-item-count">16</span>
                <span class="site-state-item-name">标签</span>
            </div>
        </div>
    </aside>
</body>
</html>
